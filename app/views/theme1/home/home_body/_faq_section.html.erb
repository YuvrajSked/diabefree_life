<!-- ===== FAQ Section Start ===== -->
<section class="i pg fh rm ji gp uq" x-data="{ openFaq: null }">
  <%= image_tag 'shape-06.svg', alt: 'Shape', class: 'h aa y' %>
  <%= image_tag 'shape-07.svg', alt: 'Shape', class: 'h w da ee' %>
  <%= image_tag 'shape-12.svg', alt: 'Shape', class: 'h p s' %>
  <%= image_tag 'shape-13.svg', alt: 'Shape', class: 'h r q' %>

  <div>
    <div class="animate_top bb ze rj ki xn vq">
      <h2 class="fk vj pr kk wm on/5 gq/2 bb _b"><%= @faq_banner.title || "Frequently Asked Questions"%></h2>
      <p class="bb on/5 wo/5 hq"><%= @faq_banner.description || "Find answers to common questions about our diabetes reversal program"%></p>
    </div>
  </div>

  <div class="bb ze i va ki xn yq bc">
    <div class="wc max-w-4xl mx-auto space-y-4">
      <% @faqs.each_with_index do |faq, index| %>
        <div class="animate_top sg si pi zq ml il am cn _m">
          <div class="w-full text-left p-6 focus:outline-none cursor-pointer" @click="openFaq = (openFaq === <%= index %> ? null : <%= index %>)">
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="bg-blue-50 p-2 rounded-full">
                  <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <h4 class="ek tj kk wm xb font-semibold text-gray-800 ml-4"><%= faq.question %></h4>
              </div>
              <svg class="w-5 h-5 text-gray-500 transition-transform duration-200 transform" :class="{ 'rotate-180': openFaq === <%= index %> }" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </div>
          </div>

          <!-- Answer shown when FAQ is open -->
          <div class="px-6 pb-6 pt-2 overflow-hidden transition-all duration-300" 
               x-show="openFaq === <%= index %>"
               x-transition:enter="transition ease-out duration-300"
               x-transition:enter-start="opacity-0 max-h-0"
               x-transition:enter-end="opacity-100 max-h-96"
               x-transition:leave="transition ease-in duration-200"
               x-transition:leave-start="opacity-100 max-h-96"ac
               x-transition:leave-end="opacity-0 max-h-0">
            <div class="text-gray-600 pl-10 border-l-2 border-blue-100">
              <%= simple_format(faq.answer, {}, wrapper_tag: 'div', class: 'leading-relaxed') %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    </div>

</section>
<!-- ===== FAQ Section End ===== -->
